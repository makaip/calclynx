/* Image group styling similar to math-group and text-group */
.image-group {
    position: absolute;
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 10px;
    cursor: grab;
}

/* Hover state: white outline at 50% opacity */
.image-group:hover {
    outline: 2px solid rgba(255, 255, 255, 0.05);
    border-radius: 5px;
}

/* Selected state: green outline */
.image-group.selected {
    outline: 2px solid #00c59a;
    border-radius: 5px;
}

/* Dragging state: green outline with grabbing cursor */
.image-group.dragging {
    outline: 2px solid #00c59a !important;
    cursor: grabbing;
}

/* Image container styling */
.image-container {
    display: flex;
    align-items: flex-start;
    flex-direction: row;
    position: relative;
    padding: 0 5px 0 5px;
    pointer-events: none; /* Make container non-interactive */
}

/* Make the content inside the container interactive */
.image-container > * {
    pointer-events: auto;
}

/* Image content styling */
.image-content {
    max-width: none; /* Remove max constraints for resize */
    max-height: none;
    width: auto;
    height: auto;
    border-radius: 4px;
    display: block;
    user-select: none; /* Prevent text selection */
    -webkit-user-drag: none; /* Prevent webkit drag */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE/Edge */
    pointer-events: auto; /* Ensure it can be clicked/dragged */
}

/* Resize handles - only show on hover and selection */
.resize-handle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: transparent; /* Default to transparent */
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.2s ease, background-color 0.2s ease;
    z-index: 10;
    pointer-events: auto;
}

/* Show resize handles on hover - match hover border color */
.image-group:hover .resize-handle {
    opacity: 1;
    background: rgba(255, 255, 255, 0.05);
}

/* Show resize handles when selected - match selected border color */
.image-group.selected .resize-handle {
    opacity: 1;
    background: #00c59a;
}

/* Show resize handles when dragging - match dragging border color */
.image-group.dragging .resize-handle {
    opacity: 1;
    background: #00c59a;
}

/* Show resize handles when resizing - match resizing border color */
.image-group.resizing .resize-handle {
    opacity: 1;
    background: #00c59a;
}

/* Position corner handles on the border */
.resize-handle-nw {
    top: -14px;
    left: -14px;
    cursor: nw-resize;
}

.resize-handle-ne {
    top: -14px;
    right: -14px;
    cursor: ne-resize;
}

.resize-handle-sw {
    bottom: -14px;
    left: -14px;
    cursor: sw-resize;
}

.resize-handle-se {
    bottom: -14px;
    right: -14px;
    cursor: se-resize;
}

/* Resizing state styling */
.image-group.resizing {
    outline: 2px solid #00c59a !important;
    cursor: grabbing;
}

.image-group.resizing .image-content {
    pointer-events: none; /* Disable image interactions while resizing */
}
